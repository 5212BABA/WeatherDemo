<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <title>Weather Information</title>

  <!-- Fetch list of countries -->
  <script type="text/javascript" src="./country_data/countryList.js"></script>
</head>
<body onload="build_country_list()">
  <div id="country_list_div">
    <input type="text" list="country_list" />
    <datalist id="country_list">
      <option value="" disabled selected>Select a country</option>
    </datalist>
  </div>

<script type="text/javascript">
  // Build country list
  var push        = arr  => val => (idx => arr)(arr.push(val))
  var make_option = val  => id  => (opt => (txt => opt)(opt.id = id))(new Option(val))
  var add_option  = opts => opt => (undef => opts)(opts.appendChild(opt))

  var build_country_list = () =>
    countryList.
      reduce((acc, val) => push(acc)(make_option(val[0])(val[1])),[]).
      reduce((acc, val) => add_option(acc)(val), document.getElementById("country_list"))
  </script>

</body>
</html>
